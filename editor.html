---
layout: default
title: Edit
header: false
full: true
back: /finder
---

<form
    x-data="editor"
    class="flex flex-col items-center"
    x-on:submit.prevent="save"
>
    <div class="bg-white p-4 flex flex-row items-center gap-4 w-full">
        <a
            href="{{ page.back }}"
            class="p-2"
            x-html="icons.prev"
            title="Back"
        ></a>

        <input
            type="text"
            class="flex-1 py-2 px-2 text-2xl font-bold rounded-md"
            placeholder="Title"
            x-model="attributes.title"
            x-bind:disabled="loading"
        />

        <button
            type="button"
            class="px-4 font-medium rounded-md border-none"
            x-html="icons.gear"
            x-on:click="toggleSettings"
            title="Settings"
            x-bind:disabled="loading"
        ></button>

        <button
            class="px-4 font-medium rounded-md border-2 text-blue-600 border-none flex flex-row gap-2 items-center"
            x-html="saving ? icons.spinner : `${icons.save} Save`"
            title="Save"
        ></button>
    </div>

    <ul
        x-show="settingsDisplayed"
        class="w-full max-w-screen-lg p-6 flex flex-col gap-4"
    >
        <template x-for="(value, key) in attributes">
            <template x-if="key !== 'title'">
                <li class="w-full flex flex-row gap-4 items-start">
                    <input
                        type="text"
                        name="attributes[key][]"
                        x-bind:value="key"
                        class="flex-1 py-3 px-4 text-lg font-medium rounded-md border-2"
                        readonly
                    />
                    <textarea
                        type="text"
                        name="attributes[value][]"
                        x-text="value"
                        class="flex-1 py-3 px-4 min-h-32 text-lg font-medium rounded-md border-2"
                    ></textarea>
                </li>
            </template>
        </template>
    </ul>

    <div
        x-show="loading"
        class="flex items-center justify-center p-4 text-4xl"
        x-html="icons.spinner"
    ></div>

    <textarea
        x-ref="input"
        class="bg-transparent resize-none pointer-events-none"
        x-hide="loading"
    ></textarea>
</form>
